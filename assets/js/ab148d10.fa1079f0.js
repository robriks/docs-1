"use strict";(self.webpackChunklukso_docs=self.webpackChunklukso_docs||[]).push([[7823],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>m});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var i=n.createContext({}),u=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=u(e.components);return n.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,s=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(r),m=a,f=d["".concat(i,".").concat(m)]||d[m]||p[m]||s;return r?n.createElement(f,o(o({ref:t},c),{},{components:r})):n.createElement(f,o({ref:t},c))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=r.length,o=new Array(s);o[0]=d;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var u=2;u<s;u++)o[u]=r[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},5162:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(7294),a=r(6010);const s="tabItem_Ymn6";function o(e){let{children:t,hidden:r,className:o}=e;return n.createElement("div",{role:"tabpanel",className:(0,a.Z)(s,o),hidden:r},t)}},4866:(e,t,r)=>{r.d(t,{Z:()=>N});var n=r(7462),a=r(7294),s=r(6010),o=r(2466),l=r(6775),i=r(1980),u=r(7392),c=r(12);function p(e){return function(e){var t;return(null==(t=a.Children.map(e,(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})))?void 0:t.filter(Boolean))??[]}(e).map((e=>{let{props:{value:t,label:r,attributes:n,default:a}}=e;return{value:t,label:r,attributes:n,default:a}}))}function d(e){const{values:t,children:r}=e;return(0,a.useMemo)((()=>{const e=t??p(r);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,r])}function m(e){let{value:t,tabValues:r}=e;return r.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:r}=e;const n=(0,l.k6)(),s=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:t,groupId:r});return[(0,i._X)(s),(0,a.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(n.location.search);t.set(s,e),n.replace({...n.location,search:t.toString()})}),[s,n])]}function h(e){const{defaultValue:t,queryString:r=!1,groupId:n}=e,s=d(e),[o,l]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=r.find((e=>e.default))??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:s}))),[i,u]=f({queryString:r,groupId:n}),[p,h]=function(e){let{groupId:t}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,s]=(0,c.Nk)(r);return[n,(0,a.useCallback)((e=>{r&&s.set(e)}),[r,s])]}({groupId:n}),k=(()=>{const e=i??p;return m({value:e,tabValues:s})?e:null})();(0,a.useLayoutEffect)((()=>{k&&l(k)}),[k]);return{selectedValue:o,selectValue:(0,a.useCallback)((e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),h(e)}),[u,h,s]),tabValues:s}}var k=r(2389);const g="tabList__CuJ",y="tabItem_LNqP";function b(e){let{className:t,block:r,selectedValue:l,selectValue:i,tabValues:u}=e;const c=[],{blockElementScrollPositionUntilNextRender:p}=(0,o.o5)(),d=e=>{const t=e.currentTarget,r=c.indexOf(t),n=u[r].value;n!==l&&(p(t),i(n))},m=e=>{var t;let r=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;r=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;r=c[t]??c[c.length-1];break}}null==(t=r)||t.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":r},t)},u.map((e=>{let{value:t,label:r,attributes:o}=e;return a.createElement("li",(0,n.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>c.push(e),onKeyDown:m,onClick:d},o,{className:(0,s.Z)("tabs__item",y,null==o?void 0:o.className,{"tabs__item--active":l===t})}),r??t)})))}function v(e){let{lazy:t,children:r,selectedValue:n}=e;const s=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){const e=s.find((e=>e.props.value===n));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},s.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function w(e){const t=h(e);return a.createElement("div",{className:(0,s.Z)("tabs-container",g)},a.createElement(b,(0,n.Z)({},e,t)),a.createElement(v,(0,n.Z)({},e,t)))}function N(e){const t=(0,k.Z)();return a.createElement(w,(0,n.Z)({key:String(t)},e))}},7488:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>u,toc:()=>p});var n=r(7462),a=(r(7294),r(3905)),s=r(4866),o=r(5162);const l={sidebar_label:"Transfer LYX",sidebar_position:4},i="Transfer LYX",u={unversionedId:"guides/universal-profile/transfer-lyx",id:"guides/universal-profile/transfer-lyx",title:"Transfer LYX",description:"In this guide, we will learn how to transfer LYX from our Universal Profile to any address (including another ). We will cover:",source:"@site/docs/guides/universal-profile/transfer-lyx.md",sourceDirName:"guides/universal-profile",slug:"/guides/universal-profile/transfer-lyx",permalink:"/guides/universal-profile/transfer-lyx",draft:!1,editUrl:"https://github.com/lukso-network/docs/tree/main/docs/guides/universal-profile/transfer-lyx.md",tags:[],version:"current",lastUpdatedAt:1681477321,formattedLastUpdatedAt:"Apr 14, 2023",sidebarPosition:4,frontMatter:{sidebar_label:"Transfer LYX",sidebar_position:4},sidebar:"guidesSidebar",previous:{title:"Edit a Universal Profile",permalink:"/guides/universal-profile/edit-profile"},next:{title:"Interact with Contracts",permalink:"/guides/universal-profile/interact-with-contracts"}},c={},p=[{value:"Introduction",id:"introduction",level:2},{value:"Basics of the <code>execute(...)</code> function",id:"basics-of-the-execute-function",level:3},{value:"Permissions required to transfer LYX",id:"permissions-required-to-transfer-lyx",level:3},{value:"Setup",id:"setup",level:2},{value:"Step 1 - Get some LYX",id:"step-1---get-some-lyx",level:2},{value:"Step 2 - Create the contracts instances",id:"step-2---create-the-contracts-instances",level:2},{value:"Step 3 - Load our EOA",id:"step-3---load-our-eoa",level:3},{value:"Step 4 - Send the LYX",id:"step-4---send-the-lyx",level:2},{value:"Final Code",id:"final-code",level:2}],d={toc:p};function m(e){let{components:t,...l}=e;return(0,a.kt)("wrapper",(0,n.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"transfer-lyx"},"Transfer LYX"),(0,a.kt)("p",null,"In this guide, we will learn ",(0,a.kt)("strong",{parentName:"p"},"how to transfer LYX")," from our Universal Profile to any ",(0,a.kt)("inlineCode",{parentName:"p"},"address")," (including another \ud83c\udd99 ). We will cover:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"the basics of the ",(0,a.kt)("inlineCode",{parentName:"li"},"execute(...)")," function and how it works."),(0,a.kt)("li",{parentName:"ul"},"how to use this function to transfer LYX from our UP.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Guide - How to send LYX from a Universal Profile",src:r(6173).Z,width:"6901",height:"2318"})),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"A complete ",(0,a.kt)("em",{parentName:"p"},'"ready to use"')," JS file is available at the end in the ",(0,a.kt)("a",{parentName:"p",href:"#final-code"},(0,a.kt)("strong",{parentName:"a"},"Final Code"))," section. If you want to run the code as standalone JavaScript files within the terminal or the browser, you can open the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/lukso-network/lukso-playground"},(0,a.kt)("inlineCode",{parentName:"a"},"lukso-playground"))," repository or use the correlated ",(0,a.kt)("a",{parentName:"p",href:"https://stackblitz.com/github/lukso-network/lukso-playground"},"StackBlitz")," page. Remember that you will have to provide a controller key (EOA) of your Universal Profile in order to transfer funds.")),(0,a.kt)("h2",{id:"introduction"},"Introduction"),(0,a.kt)("p",null,"Let's recap what we have learned so far!"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"In our ",(0,a.kt)("a",{parentName:"p",href:"/guides/universal-profile/create-profile"},(0,a.kt)("strong",{parentName:"a"},"Create a Universal Profile"))," guide, we saw in the ",(0,a.kt)("a",{parentName:"p",href:"/guides/universal-profile/create-profile#contracts-overview"},"Universal Profile architecture diagram")," that the owner of a Universal Profile (UP) is a Key Manager (KM). This smart contract acts as its controller.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"In our ",(0,a.kt)("a",{parentName:"p",href:"/guides/universal-profile/edit-profile"},(0,a.kt)("strong",{parentName:"a"},"Edit a Universal Profile"))," guide, we saw the basics of interacting with our UP to edit our profile info. We did so by interacting via the KM."))),(0,a.kt)("p",null,"We previously saw how to use ",(0,a.kt)("inlineCode",{parentName:"p"},"setData(...)")," to update data in our UP contract's storage. Let's now look at ",(0,a.kt)("inlineCode",{parentName:"p"},"execute(...)"),"."),(0,a.kt)("h3",{id:"basics-of-the-execute-function"},"Basics of the ",(0,a.kt)("inlineCode",{parentName:"h3"},"execute(...)")," function"),(0,a.kt)("p",null,"The ",(0,a.kt)("a",{parentName:"p",href:"/standards/smart-contracts/erc725-contract#execute---erc725x"},(0,a.kt)("inlineCode",{parentName:"a"},"execute(operation,to,value,data)"))," function from ",(0,a.kt)("a",{parentName:"p",href:"/standards/lsp-background/erc725#erc725x---generic-executor"},"ERC725X")," enable us to use our UP to interact with other addresses, such as transferring LYX or calling other smart contracts. This function takes four arguments (see ",(0,a.kt)("a",{parentName:"p",href:"/standards/smart-contracts/erc725-contract#execute---erc725x"},"ERC725 API docs"),")."),(0,a.kt)("p",null,"We can use this function to transfer LYX from our UP to any address (including another UP). Transferring LYX from our UP is as simple as making a standard ",(0,a.kt)("a",{parentName:"p",href:"/standards/universal-profile/lsp6-key-manager#permission-values"},(0,a.kt)("inlineCode",{parentName:"a"},"CALL"))," to any ",(0,a.kt)("inlineCode",{parentName:"p"},"address"),", attaching some ",(0,a.kt)("strong",{parentName:"p"},"value")," to the call."),(0,a.kt)("p",null,"For a regular LYX transfer, the parameters will be:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"_operation"),": ",(0,a.kt)("inlineCode",{parentName:"li"},"0")," (for ",(0,a.kt)("inlineCode",{parentName:"li"},"CALL"),")."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"_to"),": the ",(0,a.kt)("inlineCode",{parentName:"li"},"address")," we want to send LYX to (Externally Owned Account or contract address)."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"_value"),": the amount of LYX we want to transfer (in Wei)."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"_data"),": empty (",(0,a.kt)("inlineCode",{parentName:"li"},"0x")," since we are just transferring LYX).")),(0,a.kt)("h3",{id:"permissions-required-to-transfer-lyx"},"Permissions required to transfer LYX"),(0,a.kt)("p",null,"The chosen EOA needs to have ",(0,a.kt)("a",{parentName:"p",href:"/standards/universal-profile/lsp6-key-manager#permissions"},(0,a.kt)("strong",{parentName:"a"},"TRANSFERVALUE Permission"))," together with ",(0,a.kt)("a",{parentName:"p",href:"/standards/universal-profile/lsp6-key-manager#allowed-calls"},(0,a.kt)("strong",{parentName:"a"},"AllowedCalls"))," or ",(0,a.kt)("a",{parentName:"p",href:"/standards/universal-profile/lsp6-key-manager#super-permissions"},(0,a.kt)("strong",{parentName:"a"},"SUPER_TRANSFERVALUE Permission")),"."),(0,a.kt)("h2",{id:"setup"},"Setup"),(0,a.kt)("p",null,"To complete this mini-guide, we will need:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"the ",(0,a.kt)("inlineCode",{parentName:"li"},"UniversalProfile")," contracts ABI from the ",(0,a.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/@lukso/lsp-smart-contracts"},(0,a.kt)("inlineCode",{parentName:"a"},"@lukso/lsp-smart-contracts"))," npm package."),(0,a.kt)("li",{parentName:"ul"},"the address of our Universal Profile we want to send LYX from."),(0,a.kt)("li",{parentName:"ul"},"an EOA with some LYX for gas fees and the required ",(0,a.kt)("a",{parentName:"li",href:"/standards/universal-profile/lsp6-key-manager#permissions"},(0,a.kt)("strong",{parentName:"a"},"permissions"))," for the interaction.")),(0,a.kt)("p",null,"Make sure you have the following dependencies installed before beginning this tutorial:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Either ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/web3/web3.js"},(0,a.kt)("inlineCode",{parentName:"a"},"web3.js"))," or ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/ethers-io/ethers.js/"},(0,a.kt)("inlineCode",{parentName:"a"},"ethers.js"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/lukso-network/lsp-smart-contracts/"},(0,a.kt)("inlineCode",{parentName:"a"},"@lukso/lsp-smart-contracts")))),(0,a.kt)(s.Z,{mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"web3js",label:"web3.js",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="Install the dependencies"',title:'"Install',the:!0,'dependencies"':!0},"npm install web3 @lukso/lsp-smart-contracts\n"))),(0,a.kt)(o.Z,{value:"ethersjs",label:"ethers.js",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="Install the dependencies"',title:'"Install',the:!0,'dependencies"':!0},"npm install ethers @lukso/lsp-smart-contracts\n")))),(0,a.kt)("h2",{id:"step-1---get-some-lyx"},"Step 1 - Get some LYX"),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"You need to have LYX both in your EOA (which will pay for the transaction fees) and in your Universal Profile (where the LYX will be transferred from).")),(0,a.kt)("p",null,"In order to send LYX from our Universal Profile, we will first request some free test LYX for our UP via the ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"https://faucet.l16.lukso.network/"},"L16 Faucet")),"."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Visit the \u27a1\ufe0f ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("a",{parentName:"strong",href:"https://faucet.l16.lukso.network/"},"LUKSO L16 Faucet Website")),"."),(0,a.kt)("li",{parentName:"ol"},"Make a ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("a",{parentName:"strong",href:"https://twitter.com"},"tweet"))," with your UP address and paste the tweet's url in the input field and click the ",(0,a.kt)("em",{parentName:"li"},'"Give me LYX"')," button.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"L16 Faucet screenshot",src:r(6086).Z,width:"843",height:"279"})),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"Check the balance of your Universal Profile on the ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("a",{parentName:"strong",href:"https://explorer.execution.l16.lukso.network/"},"LUKSO L16 Block Explorer"))," \u2b07\ufe0f")),(0,a.kt)("p",null,"Paste the address of the Universal Profile in the address field in the top right corner of the block explorer."),(0,a.kt)("p",null,"If everything went successfully, you should see that the ",(0,a.kt)("em",{parentName:"p"},'"Balance"')," field of your Universal Profile has been updated!"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"LUKSO L16 Network Block Explorer (screenshot)",src:r(1351).Z,width:"482",height:"415"})),(0,a.kt)("h2",{id:"step-2---create-the-contracts-instances"},"Step 2 - Create the contracts instances"),(0,a.kt)("p",null,"The first step is to create instances of our Universal Profile and Key Manager contracts."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"2.1 - First, we will use the Universal Profile to retrieve the address of the KeyManager via the ",(0,a.kt)("a",{parentName:"p",href:"/standards/smart-contracts/lsp0-erc725-account#owner"},(0,a.kt)("inlineCode",{parentName:"a"},"owner()"))," function.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"2.2 - Then, we will use the Key Manager to interact with our Universal Profile and send some LYX."))),(0,a.kt)(s.Z,{mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"web3js",label:"web3.js",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import UniversalProfile from '@lukso/lsp-smart-contracts/artifacts/UniversalProfile.json';\nimport Web3 from 'web3';\n\nconst web3 = new Web3('https://rpc.l16.lukso.network');\n\nconst myUPAddress = '0x...';\nconst myUP = new web3.eth.Contract(UniversalProfile.abi, myUPAddress);\n"))),(0,a.kt)(o.Z,{value:"ethersjs",label:"ethers.js",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import UniversalProfile from '@lukso/lsp-smart-contracts/artifacts/UniversalProfile.json';\nimport { ethers } from 'ethers';\n\nconst provider = new ethers.JsonRpcProvider('https://rpc.l16.lukso.network');\n\nconst myUPAddress = '0x...';\nconst myUP = new ethers.Contract(myUPAddress, UniversalProfile.abi, provider);\n")))),(0,a.kt)("h3",{id:"step-3---load-our-eoa"},"Step 3 - Load our EOA"),(0,a.kt)("p",null,"Like in other guides, an important step is to load our EOA that is a controller for our Universal Profile."),(0,a.kt)(s.Z,{mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"web3js",label:"web3.js",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"const PRIVATE_KEY = '0x...'; // your controller address private key\n\nconst myEOA = web3.eth.accounts.wallet.add(PRIVATE_KEY);\n"))),(0,a.kt)(o.Z,{value:"ethersjs",label:"ethers.js",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"const PRIVATE_KEY = '0x...'; // your controller address private key\n\nconst myEOA = new ethers.Wallet(PRIVATE_KEY).connect(provider);\n")))),(0,a.kt)("h2",{id:"step-4---send-the-lyx"},"Step 4 - Send the LYX"),(0,a.kt)("p",null,"With our contract instances ready, we now want to transfer some LYX from the UP using the ",(0,a.kt)("inlineCode",{parentName:"p"},"execute(...)")," function. Since we are calling from a UP's controller address (with proper ",(0,a.kt)("a",{parentName:"p",href:"/standards/universal-profile/lsp6-key-manager#permissions"},(0,a.kt)("strong",{parentName:"a"},"permissions")),"), the Key Manager will authorize the LYX transfer."),(0,a.kt)(s.Z,{mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"web3js",label:"web3.js",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"const OPERATION_CALL = 0;\nconst recipient = '0x...'; // address the recipient (any address, including an other UP)\nconst amount = web3.utils.toWei('3'); // amount of LYX we want to transfer\n// calldata executed at the target (here nothing, just a plain LYX transfer)\nconst data = '0x'; // empty data\n\nawait myUP.methods['execute(uint256,address,uint256,bytes)'](\n  OPERATION_CALL,\n  recipient,\n  amount,\n  data,\n).send({\n  from: myEOA.address,\n  gasLimit: 300_000,\n});\n"))),(0,a.kt)(o.Z,{value:"ethersjs",label:"ethers.js",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"const OPERATION_CALL = 0;\nconst recipient = '0x...'; // address of the recipient (any address, including an other UP)\nconst amount = ethers.parseEther('3'); // amount of LYX we want to transfer\nconst data = '0x'; // calldata executed at the target (here nothing, just a plain LYX transfer)\n\nawait myUP\n  .connect(myEOA)\n  ['execute(uint256,address,uint256,bytes)'](\n    OPERATION_CALL,\n    recipient,\n    amount,\n    data,\n  );\n")))),(0,a.kt)("h2",{id:"final-code"},"Final Code"),(0,a.kt)(s.Z,{mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"web3js",label:"web3.js",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"import UniversalProfile from '@lukso/lsp-smart-contracts/artifacts/UniversalProfile.json';\nimport KeyManager from '@lukso/lsp-smart-contracts/artifacts/LSP6KeyManager.json';\nimport Web3 from 'web3';\n\nconst web3 = new Web3('https://rpc.l16.lukso.network');\n\n// 1. instantiate your UP contract\nconst myUPAddress = '0x...';\nconst myUP = new web3.eth.Contract(UniversalProfile.abi, myUPAddress);\n\nconst PRIVATE_KEY = '0x...'; // your controller address private key\nconst myEOA = web3.eth.accounts.wallet.add(PRIVATE_KEY); // amount of LYX we want to transfer\n\nconst OPERATION_CALL = 0;\nconst recipient = '0x...'; // address the recipient (any address, including an other UP)\nconst amount = web3.utils.toWei('3');\n// calldata executed at the target (here nothing, just a plain LYX transfer)\nconst data = '0x';\n\nawait myUP.methods['execute(uint256,address,uint256,bytes)'](\n  OPERATION_CALL,\n  recipient,\n  amount,\n  data,\n).send({\n  from: myEOA.address,\n  gasLimit: 300_000,\n});\n"))),(0,a.kt)(o.Z,{value:"ethersjs",label:"ethers.js",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import UniversalProfile from '@lukso/lsp-smart-contracts/artifacts/UniversalProfile.json';\nimport KeyManager from '@lukso/lsp-smart-contracts/artifacts/LSP6KeyManager.json';\nimport { ethers } from 'ethers';\n\nconst provider = new ethers.JsonRpcProvider('https://rpc.l14.lukso.network');\n\nconst myUPAddress = '0x...';\nconst myUP = new ethers.Contract(myUPAddress, UniversalProfile.abi, provider);\n\nconst PRIVATE_KEY = '0x...'; // your controller address private key\nconst myEOA = new ethers.Wallet(PRIVATE_KEY).connect(provider);\n\nconst OPERATION_CALL = 0;\nconst recipient = '0x...'; // address the recipient (any address, including an other UP)\nconst amount = ethers.parseEther('3'); // amount of LYX we want to transfer\n// calldata executed at the target (here nothing, just a plain LYX transfer)\nconst data = '0x';\n\nawait myUP\n  .connect(myEOA)\n  ['execute(uint256,address,uint256,bytes)'](\n    OPERATION_CALL,\n    recipient,\n    amount,\n    data,\n  );\n")))))}m.isMDXComponent=!0},6086:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/L16-faucet-b6865fcdb7d8325ce6dccc4900442dc6.png"},1351:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/explorer-balance-cdcdf07e35e4f98915d18601c8187634.png"},6173:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/guide-LYX-transfer-1a56d65249f7fdc352da689946bc6569.jpeg"}}]);